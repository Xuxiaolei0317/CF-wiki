<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>跨天测试</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3B82F6',
                        secondary: '#10B981',
                        neutral: '#64748B',
                        light: '#F1F5F9',
                        dark: '#1E293B'
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .preset-hover {
                @apply transition-all duration-200 hover:bg-light dark:hover:bg-dark/50;
            }
            .btn-effect {
                @apply transition-all duration-200 transform hover:scale-105 active:scale-95;
            }
        }
    </style>
</head>

<body class="bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-100 min-h-screen">
    <div class="container mx-auto px-4 py-[0.9rem] max-w-none">
        <header class="mb-6 text-center">
            <h3 class="text-[clamp(1.17rem,2vw,1.5rem)] font-bold text-primary mb-2">跨天测试list</h3>
            <p class="text-neutral">勾选左侧预设list，右侧将实时显示选中内容</p>
        </header>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
            <!-- 左侧预设配置区域 -->
            <div
                class="bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden transition-all duration-300 hover:shadow-lg">
                <div class="bg-primary text-white p-2">
                    <h2 class="text-xl font-semibold flex items-center justify-between">
                        <span><i class="fa fa-cogs mr-2"></i>预设list</span>
                        <!-- 替换下拉菜单为选项卡 -->
                        <div class="flex space-x-2 overflow-x-auto">
                            <button id="filter-all" class="filter-tab px-3 py-1 rounded-md text-sm whitespace-nowrap">全部</button>
                            <button id="filter-system" class="filter-tab px-3 py-1 rounded-md text-sm whitespace-nowrap bg-white/20">系统</button>
                            <button id="filter-theme" class="filter-tab px-3 py-1 rounded-md text-sm whitespace-nowrap">主题</button>
                            <button id="filter-login-1" class="filter-tab px-3 py-1 rounded-md text-sm whitespace-nowrap">登录1</button>
                            <button id="filter-login-2" class="filter-tab px-3 py-1 rounded-md text-sm whitespace-nowrap">登录2</button>
                            <button id="filter-login-3" class="filter-tab px-3 py-1 rounded-md text-sm whitespace-nowrap">登录3</button>
                            <button id="filter-login-4" class="filter-tab px-3 py-1 rounded-md text-sm whitespace-nowrap">登录4</button>
                        </div>
                    </h2>
                </div>
                <div class="p-3 max-h-[75vh] overflow-y-auto" id="presets-container">
                    <div id="presets-list" class="space-y-2">
                        <!-- 动态生成的预设项将在这里显示 -->
                    </div>
                </div>
                <div class="p-4 border-t border-gray-200 dark:border-gray-700 flex justify-between">
                    <button id="add-preset"
                        class="bg-secondary text-white px-4 py-2 rounded-md btn-effect flex items-center">
                        <i class="fa fa-plus mr-2"></i>新增预设
                    </button>
                    <button id="clear-all"
                        class="bg-neutral text-white px-4 py-2 rounded-md btn-effect flex items-center">
                        <i class="fa fa-trash mr-2"></i>清空选中
                    </button>
                </div>
            </div>

            <!-- 右侧输出区域 -->
            <div
                class="bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden transition-all duration-300 hover:shadow-lg flex-1">
                <div class="bg-primary text-white p-2">
                    <h2 class="text-xl font-semibold flex items-center">
                        <i class="fa fa-list-alt mr-2"></i>输出内容
                    </h2>
                </div>
                <div class="p-3 max-h-[80vh] overflow-y-auto" id="output-container">
                    <!-- 添加复制按钮 -->
                    <div class="mb-4 flex justify-end">
                        <button id="copy-all-btn"
                            class="bg-secondary text-white px-4 py-2 rounded-md btn-effect flex items-center text-sm">
                            <i class="fa fa-copy mr-2"></i>复制所有内容
                        </button>
                    </div>
                    <ul id="output-list" class="space-y-2">
                        <!-- 动态生成的输出内容将在这里显示 -->
                    </ul>
                    <div id="empty-state" class="text-neutral text-center py-10 hidden">
                        <i class="fa fa-info-circle text-4xl mb-2"></i>
                        <p>没有选中的预设list项</p>
                    </div>
                    <!-- 复制成功提示 -->
                    <div id="copy-toast"
                        class="fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-md shadow-lg transform translate-y-[-100px] opacity-0 transition-all duration-300 flex items-center">
                        <i class="fa fa-check-circle mr-2"></i>
                        <span>复制成功！</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 编辑预设的模态框 -->
    <div id="edit-modal" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden">
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-xl p-6 w-full max-w-md">
            <h3 class="text-xl font-semibold mb-4">编辑</h3>
            <div class="mb-4">
                <label for="preset-text" class="block mb-2 text-sm font-medium">预设内容</label>
                <textarea id="preset-text"
                    class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary dark:bg-gray-700"
                    rows="3"></textarea>
            </div>
            <div class="mb-4">
                <label for="preset-category" class="block mb-2 text-sm font-medium">标签</label>
                <select id="preset-category" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary dark:bg-gray-700">
                    <option value="系统">系统</option>
                    <option value="主题">主题</option>
                </select>
            </div>
            <!-- 添加登录次数选择器 -->
            <div class="mb-4">
                <label for="preset-login" class="block mb-2 text-sm font-medium">登录次数</label>
                <select id="preset-login" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary dark:bg-gray-700">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                </select>
            </div>
            <input type="hidden" id="edit-index" value="-1">
            <div class="flex justify-end space-x-2">
                <button id="cancel-edit"
                    class="px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md btn-effect">取消</button>
                <button id="save-edit" class="px-4 py-2 bg-primary text-white rounded-md btn-effect">保存</button>
            </div>
        </div>
    </div>

    <script>
        // 从localStorage加载预设数据或使用默认数据
        const savedPresets = localStorage.getItem('presets');
        let presets = savedPresets ? JSON.parse(savedPresets) : [
            // 登录次数1的系统预设
            {text:'login bonus领奖+活动强弹+活动中心活动配置检查、遍历跳转、购买', checked: false, category: '系统', login: 1},
            {text:'社区群跳转', checked: false, category: '系统', login: 1},
            {text:'大厅广告位活动检查+跳转+购买、大厅主题集合及排序检查', checked: false, category: '系统', login: 1},
            {text:'新主题spin、新主题内侧边栏活动检查+跳转', checked: false, category: '系统', login: 1},
            {text:'inbox领奖', checked: false, category: '系统', login: 1},
            {text:'劳工节排行榜结算+奖励发放', checked: false, category: '系统', login: 1},
            {text:'15分钟赛', checked: false, category: '系统', login: 1},
            {text:'商店入场特效+金币购买+spin up购买+hotdeal购买+deal购买', checked: false, category: '系统', login: 1},
            {text:'横竖版MB购买', checked: false, category: '系统', login: 1},
            {text:'bonus games游玩', checked: false, category: '系统', login: 1},
            {text:'邮票玩法开邮票包+灯神小游戏+frenzy spin+浏览邮票+排行榜', checked: false, category: '系统', login: 1},
            {text:'byd开仓库+领取每日奖励+唤起C礼包活动、跳转、购买', checked: false, category: '系统', login: 1},
            {text:'atw开购物袋+浏览shop+浏览排行榜', checked: false, category: '系统', login: 1},
            {text:'mansion建造+浏览', checked: false, category: '系统', login: 1},
            {text:'公会消息浏览+公会任务领奖+发送消息', checked: false, category: '系统', login: 1},
            {text:'inbox检查', checked: false, category: '系统', login: 1},
            {text:'大厅任务集合查看+跳转', checked: false, category: '系统', login: 1},
            {text:'新主题内spin，领取41016活动奖励', checked: false, category: '系统', login: 1},
            {text:'奖励中心蓝刮刮卡+红刮刮卡', checked: false, category: '系统', login: 1},
            {text:'商店入场特效+金币购买+hotdeal购买+deal购买', checked: false, category: '系统', login: 1},
            {text:'横竖版MB购买', checked: false, category: '系统', login: 1},
            {text:'MP等级购买+奖励领取', checked: false, category: '系统', login: 1},
            {text:'奖励中心蓝刮刮卡+红刮刮卡+领取/赠送好友邮票，金币，礼盒', checked: false, category: '系统', login: 1},
            {text:'cash go 登陆领奖+spin+好友+宠物喂养', checked: false, category: '系统', login: 1},
            {text:'daily mission主题内spin+消耗第二货币完成任务领奖', checked: false, category: '系统', login: 1},
            {text:'个人中心更换头像形象+成就系统领奖+更换大厅皮肤', checked: false, category: '系统', login: 1},
            {text:'邮票开包+frenzy spin+灯神游玩+灯神开包', checked: false, category: '系统', login: 1},
            {text:'BYD+开包+C活动查看，跳转，购买，领奖', checked: false, category: '系统', login: 1},
            {text:'ATW开包，收奖，set收奖', checked: false, category: '系统', login: 1},
            {text:'BC刷新，完成任务，任务跳转，领取奖励', checked: false, category: '系统', login: 1},
            {text:'soc小游戏', checked: false, category: '系统', login: 1},
            {text:'使用绿宝石完成任务领奖', checked: false, category: '系统', login: 1},
            {text:'劳工节所有玩法+开卡包+小游戏', checked: false, category: '系统', login: 1},
            {text:'劳工节各个促销跳转+购买', checked: false, category: '系统', login: 1},
            {text:'merge游玩+Bpass收奖+关卡收奖+劳工节pass领奖', checked: false, category: '系统', login: 1},
            {text:'rocket游玩+Bpass收奖+关卡收奖+购买token礼包booster礼包', checked: false, category: '系统', login: 1},
            {text:'journey游玩+Bpass收奖+boss玩法+购买booster1使用', checked: false, category: '系统', login: 1},
            {text:'cash go 登陆领奖，领取好友赠送spin', checked: false, category: '系统', login: 1},
            {text:'10倍spin+建造切场景+偷钱+攻击+喂养+C活动付费', checked: false, category: '系统', login: 1},
            {text:'mansion建造', checked: false, category: '系统', login: 1},
            {text:'公会发消息+查看成员信息+完成公会任务领奖', checked: false, category: '系统', login: 1},
            
            // 登录次数2的系统预设（复制自登录1）
            {text:'login bonus领奖+活动强弹+活动中心活动配置检查、遍历跳转、购买', checked: false, category: '系统', login: 2},
            {text:'社区群跳转', checked: false, category: '系统', login: 2},
            {text:'大厅广告位活动检查+跳转+购买、大厅主题集合及排序检查', checked: false, category: '系统', login: 2},
            {text:'新主题spin、新主题内侧边栏活动检查+跳转', checked: false, category: '系统', login: 2},
            {text:'inbox领奖', checked: false, category: '系统', login: 2},
            {text:'劳工节排行榜结算+奖励发放', checked: false, category: '系统', login: 2},
            {text:'15分钟赛', checked: false, category: '系统', login: 2},
            {text:'商店入场特效+金币购买+spin up购买+hotdeal购买+deal购买', checked: false, category: '系统', login: 2},
            {text:'横竖版MB购买', checked: false, category: '系统', login: 2},
            {text:'bonus games游玩', checked: false, category: '系统', login: 2},
            {text:'邮票玩法开邮票包+灯神小游戏+frenzy spin+浏览邮票+排行榜', checked: false, category: '系统', login: 2},
            {text:'byd开仓库+领取每日奖励+唤起C礼包活动、跳转、购买', checked: false, category: '系统', login: 2},
            {text:'atw开购物袋+浏览shop+浏览排行榜', checked: false, category: '系统', login: 2},
            {text:'mansion建造+浏览', checked: false, category: '系统', login: 2},
            {text:'公会消息浏览+公会任务领奖+发送消息', checked: false, category: '系统', login: 2},
            {text:'inbox检查', checked: false, category: '系统', login: 2},
            {text:'大厅任务集合查看+跳转', checked: false, category: '系统', login: 2},
            {text:'新主题内spin，领取41016活动奖励', checked: false, category: '系统', login: 2},
            {text:'奖励中心蓝刮刮卡+红刮刮卡', checked: false, category: '系统', login: 2},
            {text:'商店入场特效+金币购买+hotdeal购买+deal购买', checked: false, category: '系统', login: 2},
            {text:'横竖版MB购买', checked: false, category: '系统', login: 2},
            {text:'MP等级购买+奖励领取', checked: false, category: '系统', login: 2},
            {text:'奖励中心蓝刮刮卡+红刮刮卡+领取/赠送好友邮票，金币，礼盒', checked: false, category: '系统', login: 2},
            {text:'cash go 登陆领奖+spin+好友+宠物喂养', checked: false, category: '系统', login: 2},
            {text:'daily mission主题内spin+消耗第二货币完成任务领奖', checked: false, category: '系统', login: 2},
            {text:'个人中心更换头像形象+成就系统领奖+更换大厅皮肤', checked: false, category: '系统', login: 2},
            {text:'邮票开包+frenzy spin+灯神游玩+灯神开包', checked: false, category: '系统', login: 2},
            {text:'BYD+开包+C活动查看，跳转，购买，领奖', checked: false, category: '系统', login: 2},
            {text:'ATW开包，收奖，set收奖', checked: false, category: '系统', login: 2},
            {text:'BC刷新，完成任务，任务跳转，领取奖励', checked: false, category: '系统', login: 2},
            {text:'soc小游戏', checked: false, category: '系统', login: 2},
            {text:'使用绿宝石完成任务领奖', checked: false, category: '系统', login: 2},
            {text:'劳工节所有玩法+开卡包+小游戏', checked: false, category: '系统', login: 2},
            {text:'劳工节各个促销跳转+购买', checked: false, category: '系统', login: 2},
            {text:'merge游玩+Bpass收奖+关卡收奖+劳工节pass领奖', checked: false, category: '系统', login: 2},
            {text:'rocket游玩+Bpass收奖+关卡收奖+购买token礼包booster礼包', checked: false, category: '系统', login: 2},
            {text:'journey游玩+Bpass收奖+boss玩法+购买booster1使用', checked: false, category: '系统', login: 2},
            {text:'cash go 登陆领奖，领取好友赠送spin', checked: false, category: '系统', login: 2},
            {text:'10倍spin+建造切场景+偷钱+攻击+喂养+C活动付费', checked: false, category: '系统', login: 2},
            {text:'mansion建造', checked: false, category: '系统', login: 2},
            {text:'公会发消息+查看成员信息+完成公会任务领奖', checked: false, category: '系统', login: 2},
            
            // 登录次数3的系统预设（复制自登录1）
            {text:'login bonus领奖+活动强弹+活动中心活动配置检查、遍历跳转、购买', checked: false, category: '系统', login: 3},
            {text:'社区群跳转', checked: false, category: '系统', login: 3},
            {text:'大厅广告位活动检查+跳转+购买、大厅主题集合及排序检查', checked: false, category: '系统', login: 3},
            {text:'新主题spin、新主题内侧边栏活动检查+跳转', checked: false, category: '系统', login: 3},
            {text:'inbox领奖', checked: false, category: '系统', login: 3},
            {text:'劳工节排行榜结算+奖励发放', checked: false, category: '系统', login: 3},
            {text:'15分钟赛', checked: false, category: '系统', login: 3},
            {text:'商店入场特效+金币购买+spin up购买+hotdeal购买+deal购买', checked: false, category: '系统', login: 3},
            {text:'横竖版MB购买', checked: false, category: '系统', login: 3},
            {text:'bonus games游玩', checked: false, category: '系统', login: 3},
            {text:'邮票玩法开邮票包+灯神小游戏+frenzy spin+浏览邮票+排行榜', checked: false, category: '系统', login: 3},
            {text:'byd开仓库+领取每日奖励+唤起C礼包活动、跳转、购买', checked: false, category: '系统', login: 3},
            {text:'atw开购物袋+浏览shop+浏览排行榜', checked: false, category: '系统', login: 3},
            {text:'mansion建造+浏览', checked: false, category: '系统', login: 3},
            {text:'公会消息浏览+公会任务领奖+发送消息', checked: false, category: '系统', login: 3},
            {text:'inbox检查', checked: false, category: '系统', login: 3},
            {text:'大厅任务集合查看+跳转', checked: false, category: '系统', login: 3},
            {text:'新主题内spin，领取41016活动奖励', checked: false, category: '系统', login: 3},
            {text:'奖励中心蓝刮刮卡+红刮刮卡', checked: false, category: '系统', login: 3},
            {text:'商店入场特效+金币购买+hotdeal购买+deal购买', checked: false, category: '系统', login: 3},
            {text:'横竖版MB购买', checked: false, category: '系统', login: 3},
            {text:'MP等级购买+奖励领取', checked: false, category: '系统', login: 3},
            {text:'奖励中心蓝刮刮卡+红刮刮卡+领取/赠送好友邮票，金币，礼盒', checked: false, category: '系统', login: 3},
            {text:'cash go 登陆领奖+spin+好友+宠物喂养', checked: false, category: '系统', login: 3},
            {text:'daily mission主题内spin+消耗第二货币完成任务领奖', checked: false, category: '系统', login: 3},
            {text:'个人中心更换头像形象+成就系统领奖+更换大厅皮肤', checked: false, category: '系统', login: 3},
            {text:'邮票开包+frenzy spin+灯神游玩+灯神开包', checked: false, category: '系统', login: 3},
            {text:'BYD+开包+C活动查看，跳转，购买，领奖', checked: false, category: '系统', login: 3},
            {text:'ATW开包，收奖，set收奖', checked: false, category: '系统', login: 3},
            {text:'BC刷新，完成任务，任务跳转，领取奖励', checked: false, category: '系统', login: 3},
            {text:'soc小游戏', checked: false, category: '系统', login: 3},
            {text:'使用绿宝石完成任务领奖', checked: false, category: '系统', login: 3},
            {text:'劳工节所有玩法+开卡包+小游戏', checked: false, category: '系统', login: 3},
            {text:'劳工节各个促销跳转+购买', checked: false, category: '系统', login: 3},
            {text:'merge游玩+Bpass收奖+关卡收奖+劳工节pass领奖', checked: false, category: '系统', login: 3},
            {text:'rocket游玩+Bpass收奖+关卡收奖+购买token礼包booster礼包', checked: false, category: '系统', login: 3},
            {text:'journey游玩+Bpass收奖+boss玩法+购买booster1使用', checked: false, category: '系统', login: 3},
            {text:'cash go 登陆领奖，领取好友赠送spin', checked: false, category: '系统', login: 3},
            {text:'10倍spin+建造切场景+偷钱+攻击+喂养+C活动付费', checked: false, category: '系统', login: 3},
            {text:'mansion建造', checked: false, category: '系统', login: 3},
            {text:'公会发消息+查看成员信息+完成公会任务领奖', checked: false, category: '系统', login: 3},
            
            // 登录次数4的系统预设（复制自登录1）
            {text:'login bonus领奖+活动强弹+活动中心活动配置检查、遍历跳转、购买', checked: false, category: '系统', login: 4},
            {text:'社区群跳转', checked: false, category: '系统', login: 4},
            {text:'大厅广告位活动检查+跳转+购买、大厅主题集合及排序检查', checked: false, category: '系统', login: 4},
            {text:'新主题spin、新主题内侧边栏活动检查+跳转', checked: false, category: '系统', login: 4},
            {text:'inbox领奖', checked: false, category: '系统', login: 4},
            {text:'劳工节排行榜结算+奖励发放', checked: false, category: '系统', login: 4},
            {text:'15分钟赛', checked: false, category: '系统', login: 4},
            {text:'商店入场特效+金币购买+spin up购买+hotdeal购买+deal购买', checked: false, category: '系统', login: 4},
            {text:'横竖版MB购买', checked: false, category: '系统', login: 4},
            {text:'bonus games游玩', checked: false, category: '系统', login: 4},
            {text:'邮票玩法开邮票包+灯神小游戏+frenzy spin+浏览邮票+排行榜', checked: false, category: '系统', login: 4},
            {text:'byd开仓库+领取每日奖励+唤起C礼包活动、跳转、购买', checked: false, category: '系统', login: 4},
            {text:'atw开购物袋+浏览shop+浏览排行榜', checked: false, category: '系统', login: 4},
            {text:'mansion建造+浏览', checked: false, category: '系统', login: 4},
            {text:'公会消息浏览+公会任务领奖+发送消息', checked: false, category: '系统', login: 4},
            {text:'inbox检查', checked: false, category: '系统', login: 4},
            {text:'大厅任务集合查看+跳转', checked: false, category: '系统', login: 4},
            {text:'新主题内spin，领取41016活动奖励', checked: false, category: '系统', login: 4},
            {text:'奖励中心蓝刮刮卡+红刮刮卡', checked: false, category: '系统', login: 4},
            {text:'商店入场特效+金币购买+hotdeal购买+deal购买', checked: false, category: '系统', login: 4},
            {text:'横竖版MB购买', checked: false, category: '系统', login: 4},
            {text:'MP等级购买+奖励领取', checked: false, category: '系统', login: 4},
            {text:'奖励中心蓝刮刮卡+红刮刮卡+领取/赠送好友邮票，金币，礼盒', checked: false, category: '系统', login: 4},
            {text:'cash go 登陆领奖+spin+好友+宠物喂养', checked: false, category: '系统', login: 4},
            {text:'daily mission主题内spin+消耗第二货币完成任务领奖', checked: false, category: '系统', login: 4},
            {text:'个人中心更换头像形象+成就系统领奖+更换大厅皮肤', checked: false, category: '系统', login: 4},
            {text:'邮票开包+frenzy spin+灯神游玩+灯神开包', checked: false, category: '系统', login: 4},
            {text:'BYD+开包+C活动查看，跳转，购买，领奖', checked: false, category: '系统', login: 4},
            {text:'ATW开包，收奖，set收奖', checked: false, category: '系统', login: 4},
            {text:'BC刷新，完成任务，任务跳转，领取奖励', checked: false, category: '系统', login: 4},
            {text:'soc小游戏', checked: false, category: '系统', login: 4},
            {text:'使用绿宝石完成任务领奖', checked: false, category: '系统', login: 4},
            {text:'劳工节所有玩法+开卡包+小游戏', checked: false, category: '系统', login: 4},
            {text:'劳工节各个促销跳转+购买', checked: false, category: '系统', login: 4},
            {text:'merge游玩+Bpass收奖+关卡收奖+劳工节pass领奖', checked: false, category: '系统', login: 4},
            {text:'rocket游玩+Bpass收奖+关卡收奖+购买token礼包booster礼包', checked: false, category: '系统', login: 4},
            {text:'journey游玩+Bpass收奖+boss玩法+购买booster1使用', checked: false, category: '系统', login: 4},
            {text:'cash go 登陆领奖，领取好友赠送spin', checked: false, category: '系统', login: 4},
            {text:'10倍spin+建造切场景+偷钱+攻击+喂养+C活动付费', checked: false, category: '系统', login: 4},
            {text:'mansion建造', checked: false, category: '系统', login: 4},
            {text:'公会发消息+查看成员信息+完成公会任务领奖', checked: false, category: '系统', login: 4},
            {text:'成就系统领奖；奖励中心跳转', checked: false, category: '系统', login: 1},
            
            // 主题相关的预设保持不变，只是添加login字段（默认为1）
            {text:'主题所有玩法显示和奖励正常', checked: false, category: '主题', login: 1 },
            {text:'base预售活动不同状态的多语显示和购买', checked: false, category: '主题', login: 1 },
            {text:'base预售倒计时显示', checked: false, category: '主题', login: 1 },
            {text:'base预售视频播放正常', checked: false, category: '主题', login: 1 },
            {text:'mb活动多语显示和购买', checked: false, category: '主题', login: 1 },
            {text:'mb视频播放正常', checked: false, category: '主题', login: 1 },
            {text:'三合一倒计时时间', checked: false, category: '主题', login: 1 },
            {text:'三合一活动多语显示和完成情况', checked: false, category: '主题', login: 1 },
            {text:'三合一奖励兑换', checked: false, category: '主题', login: 1 },
            {text:'newgame新机台多语显示', checked: false, category: '主题', login: 1 },
            {text:'newgame视频播放正常', checked: false, category: '主题', login: 1 },
            {text:'mega77倒计时显示', checked: false, category: '主题', login: 1 },
            {text:'mega77未完成状态多语显示', checked: false, category: '主题', login: 1 },
            {text:'mega77完成状态多语显示', checked: false, category: '主题', login: 1 },
            {text:'mega77完成的弹窗奖励显示', checked: false, category: '主题', login: 1 },
            {text:'badge多语显示和完成情况', checked: false, category: '主题', login: 1 },
            {text:'游戏和主题loading多语显示', checked: false, category: '主题', login: 1 },
            {text:'comming多语显示', checked: false, category: '主题', login: 1 },
            {text:'新主题BC显示和完成情况', checked: false, category: '主题', login: 1 },
            {text:'新主题GM多语显示和购买', checked: false, category: '主题', login: 1 },
            {text:'新主题玩法高低级房第二货币额外消耗', checked: false, category: '主题', login: 1 },
            {text:'game rule描述，pay值和JP倍数显示正确，多语链接跳转正常', checked: false, category: '主题', login: 1 },
            {text:'主题活动界面各按钮跳转', checked: false, category: '主题', login: 1 },
            {text:'新主题GM购买后GM功能正常', checked: false, category: '主题', login: 1 },
            {text:'主题皮肤显示', checked: false, category: '主题', login: 1 },
            {text:'主题大厅分类', checked: false, category: '主题', login: 1 },
            {text:'高低级房选bet界面显示', checked: false, category: '主题', login: 1 },
            {text:'主题大小icon多语显示', checked: false, category: '主题', login: 1 },
        ];

        // 保存预设数据到localStorage
        function savePresetsToLocalStorage() {
            localStorage.setItem('presets', JSON.stringify(presets));
        }

        // DOM 元素
        const presetsList = document.getElementById('presets-list');
        const outputList = document.getElementById('output-list');
        const emptyState = document.getElementById('empty-state');
        const addPresetBtn = document.getElementById('add-preset');
        const clearAllBtn = document.getElementById('clear-all');
        const editModal = document.getElementById('edit-modal');
        const presetTextInput = document.getElementById('preset-text');
        const editIndexInput = document.getElementById('edit-index');
        const saveEditBtn = document.getElementById('save-edit');
        const cancelEditBtn = document.getElementById('cancel-edit');
        
        // 添加筛选器状态变量
        // 从localStorage加载保存的筛选状态
        let filterType = localStorage.getItem('filterType') || 'category'; // 'category' 或 'login'
        let currentCategory = localStorage.getItem('currentCategory') || '系统';
        let currentLogin = localStorage.getItem('currentLogin') || 'all';
        
        // 根据login值返回对应的CSS类
        function getLoginColorClass(login) {
            switch(Number(login)) {
                case 1:
                    return 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200';
                case 2:
                    return 'bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200';
                case 3:
                    return 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200';
                case 4:
                    return 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200';
                default:
                    return 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200';
            }
        }
        


        // 渲染预设列表
        function renderPresets() {
            presetsList.innerHTML = '';
            
            // 根据当前筛选条件过滤预设项
            let filteredPresets = presets;
            
            if (filterType === 'category') {
                if (currentCategory !== 'all') {
                    filteredPresets = presets.filter(preset => preset.category === currentCategory);
                }
            } else if (filterType === 'login') {
                if (currentLogin !== 'all') {
                    // 登录次数筛选只针对系统类别的预设项
                    filteredPresets = presets.filter(preset => 
                        preset.category === '系统' && preset.login === parseInt(currentLogin)
                    );
                }
            }
            
            filteredPresets.forEach((preset, index) => {
                // 获取原始索引，用于编辑和删除操作
                const originalIndex = presets.findIndex(p => p.text === preset.text && p.category === preset.category);
                const presetItem = document.createElement('div');
                presetItem.className = 'flex items-center p-0.5 rounded-md preset-hover';
                presetItem.innerHTML = `
                    <span class="mr-2 w-6 text-center">${index + 1}.</span>
                    <input type="checkbox" id="preset-${originalIndex}" class="mr-2 h-4 w-4 accent-primary" ${preset.checked ? 'checked' : ''}>
                    <label for="preset-${originalIndex}" class="flex-grow cursor-pointer">${preset.text}</label>
                    <span class="px-2 py-1 rounded text-xs mr-2 ${getLoginColorClass(preset.login || 1)}">${preset.login || 1}</span>
                    <span class="px-2 py-1 rounded text-xs mr-2 ${preset.category === '系统' ? 'bg-blue-100 text-blue-800' : 'bg-green-100 text-green-800'}">${preset.category}</span>
                    <button class="edit-btn text-neutral hover:text-primary mr-2" data-index="${originalIndex}">
                        <i class="fa fa-pencil"></i>
                    </button>
                    <button class="delete-btn text-neutral hover:text-red-500" data-index="${originalIndex}">
                        <i class="fa fa-trash"></i>
                    </button>
                `;
                presetsList.appendChild(presetItem);
                
                // 添加事件监听器（保持不变）
                const checkbox = presetItem.querySelector('input[type="checkbox"]');
                checkbox.addEventListener('change', () => {
                    preset.checked = checkbox.checked;
                    updateOutput();
                });
                
                const editBtn = presetItem.querySelector('.edit-btn');
                editBtn.addEventListener('click', () => openEditModal(originalIndex));
                
                const deleteBtn = presetItem.querySelector('.delete-btn');
                deleteBtn.addEventListener('click', () => deletePreset(originalIndex));
            });
        }

        // 初始化筛选器状态
        function initFilter() {
            // 应用筛选
            renderPresets();
            // 更新筛选器选项卡样式
            updateFilterTabs();
        }
        
        // 更新筛选器选项卡样式
        function updateFilterTabs() {
            const filterTabs = document.querySelectorAll('.filter-tab');
            filterTabs.forEach(tab => tab.classList.remove('bg-white/20'));
            
            if (filterType === 'category') {
                if (currentCategory === 'all') {
                    document.getElementById('filter-all').classList.add('bg-white/20');
                } else if (currentCategory === '系统') {
                    document.getElementById('filter-system').classList.add('bg-white/20');
                } else if (currentCategory === '主题') {
                    document.getElementById('filter-theme').classList.add('bg-white/20');
                }
            } else if (filterType === 'login') {
                if (currentLogin === 'all') {
                    document.getElementById('filter-all').classList.add('bg-white/20');
                } else {
                    document.getElementById(`filter-login-${currentLogin}`).classList.add('bg-white/20');
                }
            }
        }
        
        // 添加筛选器事件监听器
        document.getElementById('filter-all').addEventListener('click', () => {
            filterType = 'category';
            currentCategory = 'all';
            // 保存筛选状态到localStorage
            localStorage.setItem('filterType', filterType);
            localStorage.setItem('currentCategory', currentCategory);
            updateFilterTabs();
            renderPresets();
        });
        
        document.getElementById('filter-system').addEventListener('click', () => {
            filterType = 'category';
            currentCategory = '系统';
            // 保存筛选状态到localStorage
            localStorage.setItem('filterType', filterType);
            localStorage.setItem('currentCategory', currentCategory);
            updateFilterTabs();
            renderPresets();
        });
        
        document.getElementById('filter-theme').addEventListener('click', () => {
            filterType = 'category';
            currentCategory = '主题';
            // 保存筛选状态到localStorage
            localStorage.setItem('filterType', filterType);
            localStorage.setItem('currentCategory', currentCategory);
            updateFilterTabs();
            renderPresets();
        });
        
        document.getElementById('filter-login-1').addEventListener('click', () => {
            filterType = 'login';
            currentLogin = '1';
            // 保存筛选状态到localStorage
            localStorage.setItem('filterType', filterType);
            localStorage.setItem('currentLogin', currentLogin);
            updateFilterTabs();
            renderPresets();
        });
        
        document.getElementById('filter-login-2').addEventListener('click', () => {
            filterType = 'login';
            currentLogin = '2';
            // 保存筛选状态到localStorage
            localStorage.setItem('filterType', filterType);
            localStorage.setItem('currentLogin', currentLogin);
            updateFilterTabs();
            renderPresets();
        });
        
        document.getElementById('filter-login-3').addEventListener('click', () => {
            filterType = 'login';
            currentLogin = '3';
            // 保存筛选状态到localStorage
            localStorage.setItem('filterType', filterType);
            localStorage.setItem('currentLogin', currentLogin);
            updateFilterTabs();
            renderPresets();
        });
        
        document.getElementById('filter-login-4').addEventListener('click', () => {
            filterType = 'login';
            currentLogin = '4';
            // 保存筛选状态到localStorage
            localStorage.setItem('filterType', filterType);
            localStorage.setItem('currentLogin', currentLogin);
            updateFilterTabs();
            renderPresets();
        });

        // 更新输出内容
        function updateOutput() {
            const checkedPresets = presets.filter(preset => preset.checked);

            outputList.innerHTML = '';

            if (checkedPresets.length === 0) {
                emptyState.classList.remove('hidden');
                return;
            }

            emptyState.classList.add('hidden');

            // 按登录次数分组
            const groupedByLogin = {};
            checkedPresets.forEach(preset => {
                const loginNumber = preset.login || 1; // 默认第1次登录
                if (!groupedByLogin[loginNumber]) {
                    groupedByLogin[loginNumber] = [];
                }
                groupedByLogin[loginNumber].push(preset);
            });

            // 获取所有登录次数并排序
            const loginNumbers = Object.keys(groupedByLogin).map(Number).sort((a, b) => a - b);

            // 为每个登录次数创建分组显示
            loginNumbers.forEach(loginNumber => {
                const loginGroup = groupedByLogin[loginNumber];
                
                // 创建登录次数标题
                const groupHeader = document.createElement('div');
                groupHeader.className = `font-bold text-lg mb-2 mt-0 first:mt-0 ${getLoginColorClass(loginNumber)}`;
                groupHeader.textContent = `第${loginNumber}次登录：`;
                outputList.appendChild(groupHeader);
                
                // 添加该登录次数下的所有项
                loginGroup.forEach((preset, index) => {
                    const listItem = document.createElement('li');
                    listItem.className = 'flex items-start p-2 border-b border-gray-100 dark:border-gray-700 last:border-0 ml-4';
                    listItem.innerHTML = `
                        <span class="inline-block bg-primary/10 text-primary rounded-full w-6 h-6 flex items-center justify-center mr-2 mt-0.5 flex-shrink-0">${index + 1}</span>
                        <span>${preset.text}</span>
                    `;
                    outputList.appendChild(listItem);
                });
            });
        }

        // 打开编辑模态框
        function openEditModal(index) {
            const preset = presets[index];
            presetTextInput.value = preset.text;
            // 设置类别选择
            const categorySelect = document.getElementById('preset-category');
            categorySelect.value = preset.category || '系统'; // 默认系统类别
            // 设置登录次数选择
            const loginSelect = document.getElementById('preset-login');
            loginSelect.value = preset.login || 1; // 默认第1次登录
            editIndexInput.value = index;
            editModal.classList.remove('hidden');
            presetTextInput.focus();
        }

        // 关闭编辑模态框
        function closeEditModal() {
            editModal.classList.add('hidden');
            presetTextInput.value = '';
            editIndexInput.value = '-1';
        }

        // 保存编辑的预设
        function saveEdit() {
            const index = parseInt(editIndexInput.value);
            if (index >= 0 && index < presets.length) {
                const newText = presetTextInput.value.trim();
                if (newText) {
                    presets[index].text = newText;
                    // 保存类别选择
                    presets[index].category = document.getElementById('preset-category').value;
                    // 保存登录次数选择
                    presets[index].login = parseInt(document.getElementById('preset-login').value);
                    renderPresets();
                    updateOutput();
                    savePresetsToLocalStorage(); // 保存到localStorage
                }
            }
            closeEditModal();
        }

        // 删除预设
        function deletePreset(index) {
            if (confirm('确定要删除这个预设吗？')) {
                presets.splice(index, 1);
                renderPresets();
                updateOutput();
                savePresetsToLocalStorage(); // 保存到localStorage
            }
        }

        // 添加新预设
        function addPreset() {
            // 添加默认类别为"系统"，默认登录次数为1
            presets.push({text:'新预设内容', checked: false, category: '系统', login: 1 });
            renderPresets();
            // 自动打开编辑框
            openEditModal(presets.length - 1);
            savePresetsToLocalStorage(); // 保存到localStorage
        }

        // 清空所有选中状态
        function clearAllChecked() {
            if (confirm('确定要取消所有选中状态吗？')) {
                presets.forEach(preset => {
                    preset.checked = false;
                });
                renderPresets();
                updateOutput();
                savePresetsToLocalStorage(); // 保存到localStorage
            }
        }

        // 添加事件监听器
        addPresetBtn.addEventListener('click', addPreset);
        clearAllBtn.addEventListener('click', clearAllChecked);
        saveEditBtn.addEventListener('click', saveEdit);
        cancelEditBtn.addEventListener('click', closeEditModal);

        // 复制所有输出内容功能
        document.getElementById('copy-all-btn').addEventListener('click', function () {
            const outputItems = document.querySelectorAll('#output-list li');
            if (outputItems.length === 0) {
                alert('没有可复制的内容');
                return;
            }

            // 提取所有选中项文本
            let content = '验证内容：\n'; // 添加预设语句，不带有序号
            
            // 按登录次数分组准备复制内容
            const groupedByLogin = {};
            const checkedPresets = presets.filter(preset => preset.checked);
            
            checkedPresets.forEach(preset => {
                const loginNumber = preset.login || 1; // 默认第1次登录
                if (!groupedByLogin[loginNumber]) {
                    groupedByLogin[loginNumber] = [];
                }
                groupedByLogin[loginNumber].push(preset.text);
            });
            
            // 获取所有登录次数并排序
            const loginNumbers = Object.keys(groupedByLogin).map(Number).sort((a, b) => a - b);
            
            // 构建分组格式的复制内容
            loginNumbers.forEach(loginNumber => {
                content += `第${loginNumber}次登录：\n`;
                groupedByLogin[loginNumber].forEach((text, index) => {
                    content += `${index + 1}、${text}\n`;
                });
                content += '\n'; // 分组之间添加空行
            });

            // 复制到剪贴板
            navigator.clipboard.writeText(content.trim()).then(() => {
                // 显示复制成功提示
                const toast = document.getElementById('copy-toast');
                toast.classList.remove('translate-y-[-100px]', 'opacity-0');

                // 3秒后隐藏提示
                setTimeout(() => {
                    toast.classList.add('translate-y-[-100px]', 'opacity-0');
                }, 3000);
            }).catch(err => {
                console.error('复制失败:', err);
                alert('复制失败，请手动复制');
            });
        });

        // 点击模态框外部关闭
        editModal.addEventListener('click', (e) => {
            if (e.target === editModal) {
                closeEditModal();
            }
        });
        // 在文件末尾，initFilter() 和 renderPresets() 调用之前添加辅助函数
        // 获取登录次数对应的颜色类
        // 初始化
        initFilter();
        updateOutput();
    </script>
</body>

</html>